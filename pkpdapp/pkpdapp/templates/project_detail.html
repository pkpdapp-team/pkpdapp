<!--
This file is part of PKPDApp (https://github.com/pkpdapp-team/pkpdapp) which
is released under the BSD 3-clause license. See accompanying LICENSE.md for
copyright notice and full license details.
-->

{% extends "base/base.html" %}
{% load static %}
{% load markdownify %}

{% block main_content %}

<p></p>
<h2>
  Project {{project.name}}
</h2>
(<a href="{% url 'project-update' project.id %}"> Update </a>)
(<a href="{% url 'dataset-create' project.id %}"> Upload dataset </a>)
<p>{{project.description|markdownify}}</p>
<h3>Datasets</h3>
<ul>
{% for dataset in project.datasets.all %}
  <li>
    <b>{{dataset.name}}</b>: {{dataset.description|truncatewords:"10"}}
    <a href={% url 'dataset-detail' dataset.id %}>
      <i class="fas fa-info-circle"></i>
    </a>
  </li>
{% empty %}
    <li>No datasets yet.</li>
{% endfor %}
(<a href="{% url 'dataset-create'%}"> Upload dataset </a>)
</ul>
<h3>PK Models</h3>
<ul>
{% for model in project.pk_models.all %}
  <li>
    <b>{{model.pharmacokinetic_model.name}}</b>:
    {{model.pharmacokinetic_model.description|truncatewords:"10"}}
    <a href={% url 'dosed_pk_model-detail' model.id %}>
      <i class="fas fa-info-circle"></i>
    </a>
  </li>
{% empty %}
    <li>No models yet.</li>
{% endfor %}
(<a href="{% url 'dosed_pk_model-add-to-project' project.id %}"> Create model </a>)
</ul>
<h3>Protocols</h3>
<ul>
{% for protocol in project.protocols.all %}
  <li>
    <b>{{protocol.name}}</b>
    <a href={% url 'protocol-detail' protocol.id %}>
      <i class="fas fa-info-circle"></i>
    </a>
  </li>
{% empty %}
    <li>No protocols yet.</li>
{% endfor %}
(<a href="{% url 'protocol-add-to-project' project.id %}"> Create protocol</a>)
</ul>
<h3>PD Models</h3>
<ul>
{% for model in project.pd_models.all %}
  <li>
    <b>{{model.name}}</b>: {{model.description|truncatewords:"10"}}
    <a href={% url 'pd_model-detail' model.id %}>
      <i class="fas fa-info-circle"></i>
    </a>
  </li>
{% empty %}
    <li>No models yet.</li>
{% endfor %}
(<a href="{% url 'pd_model-add-to-project' project.id %}"> Upload model </a>)
</ul>
<h3>Users</h3>
<ul>
{% for user in project.users.all %}
  <li>{{user.username}}</li>
{% empty %}
    <li>No users yet.</li>
{% endfor %}
</ul>
<p></p>
{% endblock %}
